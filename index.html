<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
</head>

<body>
  <h1 class="judul">hello world</h1>
  <ul id="lokasi">
    <li class="bogor">Bogor</li>
    <li class="bandung">Bandung</li>
    <li>Jakarta</li>
    <li>Depok</li>
  </ul>

  <ul id="gedung">
    <li>gedung 1</li>
    <li>gedung 2</li>
    <li>gedung 3</li>
  </ul>

  <!-- <select id="type" autocomplete="off">
    <option>select type</option>
    <option value="lokasi">Lokasi</option>
    <option value="gedung">Gedung</option>
  </select> -->

  <br><br>
  <form id="input_city" action="index.html" method="post">
    <!-- <div style="color: orange;">ada form hidden di situ ðŸ™ƒ</div> -->
    <select id="type_city" autocomplete="off">
      <option value="" selected>select type</option>
      <option value="lokasi">Lokasi</option>
      <option value="gedung">Gedung</option>
    </select>
    <input type="text" name="city" id="new_city" placeholder="Kota ..." />
    <!-- <input type="text" name="type_city" id="type_city" autocomplete="off" hidden/> -->
    <button type="submit">Tambah Kota</button>
  </form>

  <script src="jquery-3.7.1.min.js"></script>
  <script>
    $(document).ready(function () {
      console.log('Jquery Sudah Jalan!');
      var bekasi = $('<li>Bekasi</li>');
      var tanggerang = $('<li>Tanggerang</li>');

      $('#lokasi').prepend(bekasi);
      tanggerang.appendTo('#lokasi');

      $('.judul').after('<h2 class="sub_judul">Sub Judul</h2>');
      $('<p>Before Judul</p>').insertBefore('.judul');

      $('#type').change(() => {
        let type = $('#type').val();
        // NOTE: remove element
        // $('#type_city').remove();
        $('#error_type_city').remove();

        if (type == 'lokasi' || type == 'gedung') {
          // $('#input_city').append('<input type="text" name="type_city" id="type_city" value="' + type + '" hidden/>');
          $('#type_city').val(type);
        } else {
          $('#type_city').val('');
          $('#type').after('<span style="color:red" id="error_type_city"> Pilih Type Data List</span>');
          alert('Form / Type tidak boleh kosong!');
        }
      });

      let count = 0;
      let array_data = [];
      // NOTE: add element on submit
      $('#input_city').submit(() => {
        event.preventDefault();

        // if ($('#type_city').length === 0) {
        //   alert('Pilih Type Data List');
        //   return;
        // }

        // NOTE: ambil value dari form input
        var new_city = $('#new_city').val();
        let data_type = $('#type_city').val();

        if (new_city != '' && data_type != '') {
          (count % 2 != 0) ? $('<li>' + new_city + '</li>').appendTo('#' + data_type) : $('#' + data_type).prepend('<li>' + new_city + '</li>');
          array_data.unshift(new_city);

          console.log(count++);
          console.log(array_data);

          // NOTE: reset form
          $('#new_city').val('');
          // $('#type_city').val('');
        } else {
          $('#input_city').after('<span style="color:red" id="error_type_city"> Form / Type tidak boleh kosong!</span>');
          alert('Kota / Type tidak boleh kosong!');
        }
      });

      $('.bogor').before('<li style="color: orangered;">ada bogor habis di remove() di situ/sini - bawahnya bekas di empty() ðŸ™ƒ</li>');
      $('.bandung').remove();
      $('.bogor').empty();
    });
  </script>
</body>

</html>